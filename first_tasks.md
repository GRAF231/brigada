# Первые задачи для разработки сервиса

Ниже представлены первые задачи для начала разработки сервиса управления ремонтом квартир. Каждая задача содержит подробное описание, ожидаемый результат и технические детали.

## Задача 1: Настройка базовой структуры проекта

### Описание
Необходимо создать базовую структуру проекта, включая репозиторий Git, настройку папок для бэкенда и фронтенда, а также базовые конфигурационные файлы.

### Технические детали
1. Создать репозиторий Git с названием "brigada-renovation-service"
2. Настроить структуру проекта:
   ```
   brigada-renovation-service/
   ├── backend/
   │   ├── src/
   │   │   ├── controllers/
   │   │   ├── models/
   │   │   ├── routes/
   │   │   ├── middlewares/
   │   │   ├── services/
   │   │   ├── utils/
   │   │   └── app.js
   │   ├── .env.example
   │   ├── .gitignore
   │   ├── package.json
   │   └── README.md
   ├── frontend/
   │   ├── public/
   │   ├── src/
   │   │   ├── assets/
   │   │   ├── components/
   │   │   ├── contexts/
   │   │   ├── hooks/
   │   │   ├── pages/
   │   │   ├── services/
   │   │   ├── utils/
   │   │   ├── App.js
   │   │   └── index.js
   │   ├── .env.example
   │   ├── .gitignore
   │   ├── package.json
   │   └── README.md
   ├── .gitignore
   └── README.md
   ```
3. Настроить базовые конфигурационные файлы:
   - `.gitignore` для корня проекта, бэкенда и фронтенда
   - `package.json` для бэкенда и фронтенда
   - `README.md` с описанием проекта

### Ожидаемый результат
Готовая структура проекта с настроенными базовыми конфигурационными файлами, готовая для начала разработки.

## Задача 2: Настройка окружения разработки

### Описание
Необходимо настроить окружение разработки, включая Node.js, npm, MongoDB, а также инструменты разработки (ESLint, Prettier).

### Технические детали
1. Настроить Node.js и npm:
   - Установить Node.js версии 18.x или выше
   - Настроить npm для работы с проектом
   - Создать скрипты для запуска проекта в режиме разработки

2. Настроить MongoDB:
   - Установить MongoDB локально или использовать MongoDB Atlas
   - Создать базу данных для проекта
   - Настроить подключение к базе данных

3. Настроить инструменты разработки:
   - Установить и настроить ESLint для бэкенда и фронтенда
   - Установить и настроить Prettier для форматирования кода
   - Настроить pre-commit хуки для проверки кода перед коммитом

### Ожидаемый результат
Полностью настроенное окружение разработки, готовое для начала работы над проектом.

## Задача 3: Проектирование схемы базы данных

### Описание
Необходимо спроектировать детальную схему базы данных MongoDB, включая все коллекции, их структуру и связи между ними.

### Технические детали
1. Определить структуру коллекций:
   - `users` - пользователи системы
   - `projects` - проекты ремонта
   - `project_users` - связь между проектами и пользователями
   - `estimate_items` - пункты сметы
   - `schedule_items` - задачи в графике работ
   - `status_messages` - сообщения о статусе проекта
   - `price_lists` - прайс-листы
   - `price_list_items` - позиции прайс-листов

2. Определить структуру документов для каждой коллекции:
   - Поля и их типы
   - Индексы для оптимизации запросов
   - Связи между коллекциями

3. Документировать схему базы данных:
   - Создать документацию с описанием всех коллекций и их полей
   - Описать связи между коллекциями
   - Описать индексы и их назначение

### Ожидаемый результат
Детальная схема базы данных MongoDB, готовая для реализации моделей данных.

## Задача 4: Реализация моделей данных

### Описание
Необходимо реализовать модели данных Mongoose для всех сущностей системы, включая валидацию данных и настройку индексов.

### Технические детали
1. Создать модели Mongoose для всех сущностей:
   - `User` - модель пользователя
   - `Project` - модель проекта
   - `ProjectUser` - модель связи между проектом и пользователем
   - `EstimateItem` - модель пункта сметы
   - `ScheduleItem` - модель задачи в графике работ
   - `StatusMessage` - модель сообщения о статусе
   - `PriceList` - модель прайс-листа
   - `PriceListItem` - модель позиции прайс-листа

2. Реализовать валидацию данных:
   - Обязательные поля
   - Типы данных
   - Ограничения на значения
   - Кастомные валидаторы

3. Настроить индексы для оптимизации запросов:
   - Уникальные индексы
   - Составные индексы
   - Индексы для поиска и фильтрации

### Ожидаемый результат
Готовые модели данных Mongoose для всех сущностей системы, включая валидацию и индексы.

## Задача 5: Настройка Express.js сервера

### Описание
Необходимо настроить базовый Express.js сервер, включая middleware, маршрутизацию и обработку ошибок.

### Технические детали
1. Настроить базовый сервер:
   - Создать файл `app.js` с настройкой Express.js
   - Настроить порт и другие параметры сервера
   - Настроить обработку ошибок

2. Настроить middleware:
   - `cors` для обработки CORS
   - `body-parser` для парсинга JSON
   - `morgan` для логирования запросов
   - `helmet` для безопасности
   - Кастомные middleware для обработки запросов

3. Настроить маршрутизацию:
   - Создать базовую структуру маршрутов
   - Настроить обработку 404 ошибок
   - Настроить обработку ошибок сервера

### Ожидаемый результат
Готовый базовый Express.js сервер с настроенными middleware и маршрутизацией.

## Задача 6: Реализация системы аутентификации

### Описание
Необходимо реализовать систему аутентификации и авторизации, включая регистрацию пользователей, вход и генерацию JWT токенов.

### Технические детали
1. Реализовать API для регистрации пользователей:
   - Создать контроллер для регистрации
   - Реализовать валидацию данных
   - Хеширование паролей с помощью bcrypt
   - Сохранение пользователя в базе данных

2. Реализовать API для входа пользователей:
   - Создать контроллер для входа
   - Проверка учетных данных
   - Генерация JWT токена
   - Отправка токена клиенту

3. Настроить middleware для проверки токенов:
   - Создать middleware для проверки JWT токена
   - Реализовать извлечение данных пользователя из токена
   - Настроить обработку ошибок аутентификации

4. Реализовать управление ролями и правами доступа:
   - Создать middleware для проверки ролей
   - Реализовать проверку прав доступа
   - Настроить обработку ошибок авторизации

### Ожидаемый результат
Полностью функциональная система аутентификации и авторизации, готовая для использования в приложении.

## Задача 7: Настройка React приложения

### Описание
Необходимо настроить базовое React приложение, включая маршрутизацию, управление состоянием и базовые компоненты UI.

### Технические детали
1. Создать проект с помощью Create React App:
   - Настроить базовую структуру проекта
   - Настроить зависимости
   - Настроить скрипты для разработки и сборки

2. Настроить маршрутизацию с помощью React Router:
   - Создать базовую структуру маршрутов
   - Настроить защищенные маршруты
   - Настроить редиректы и обработку 404 ошибок

3. Настроить управление состоянием:
   - Настроить Redux или Context API
   - Создать базовые редьюсеры или контексты
   - Настроить хранение токена аутентификации

4. Создать базовые компоненты UI:
   - Создать компоненты навигации
   - Создать компоненты форм
   - Создать компоненты таблиц и списков

### Ожидаемый результат
Готовое базовое React приложение с настроенной маршрутизацией, управлением состоянием и базовыми компонентами UI.

## Задача 8: Реализация компонентов аутентификации

### Описание
Необходимо реализовать компоненты аутентификации для фронтенда, включая формы регистрации и входа, а также управление токенами.

### Технические детали
1. Создать формы регистрации и входа:
   - Создать компонент формы регистрации
   - Создать компонент формы входа
   - Реализовать валидацию форм
   - Реализовать отправку данных на сервер

2. Реализовать управление токенами:
   - Создать сервис для работы с токенами
   - Реализовать сохранение токена в localStorage или cookies
   - Реализовать автоматическое добавление токена в заголовки запросов
   - Реализовать обновление токена при необходимости

3. Создать защищенные маршруты:
   - Создать компонент для защиты маршрутов
   - Реализовать проверку аутентификации
   - Реализовать редирект на страницу входа при отсутствии аутентификации

### Ожидаемый результат
Готовые компоненты аутентификации для фронтенда, включая формы регистрации и входа, а также управление токенами.